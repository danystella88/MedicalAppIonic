<ion-view view-title="Registrazione">
  <ion-content padding="true">
    <form name="myForm" novalidate>
      <header><h3>Dati di login</h3></header>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Username</span>
        <input type="email" name="username" ng-model="username"
               ng-pattern="/^[\w-]+(\.[\w-]+)*@([a-z0-9-]+(\.[a-z0-9-]+)*?\.[a-z]{2,6}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/i"
               placeholder="nome@esempio.it" required>
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Password</span>
        <input type="password" name="password" ng-model="password" ng-minlength="6" ng-required="true" required>
      </label>
      </br> <!-- Dati personali -->
      <header><h3>Dati personali</h3></header>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Nome</span>
        <input type="text" name="nome" ng-model="nome" placeholder="Nome" required>
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Cognome</span>
        <input type="text" name="cognome" ng-model="cognome" placeholder="Cognome" required>
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Nome</span>
        <input type="text" name="cfiscale" ng-model="cfiscale" placeholder="Codice Fiscale" required>
      </label>
      <ion-list>
        <ion-radio name="sesso" ng-model="sesso" ng-value="1">Uomo</ion-radio>
        <ion-radio name="sesso" ng-model="sesso" ng-value="'2'">Donna</ion-radio>
      </ion-list>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Data di nascita</span>
        <input type="text" name="datadinascita" ng-model="datadinascita" placeholder="Data di nascita" required>
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Luogo nascita</span>
        <input type="text" name="luogodinascita" ng-model="luogodinascita" placeholder="Luogo di nascita" required>
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Provincia di nascita</span>
        <input type="text" name="provinciaNascita" ng-model="provinciaNascita" placeholder="Provincia di nascita" required>
      </label>
      </br> <!-- Registrati come medico o paziente -->
      <header><h3>Modalità di registrazione</h3></header>
      <ion-list>
        <ion-radio name="choice" ng-model="choice" ng-value="1">Registrati come medico</ion-radio>
        <ion-radio name="choice" ng-model="choice" ng-value="'2'">Registrati come paziente</ion-radio>
      </ion-list>

      </br> <!-- Dati clinci -->
      <header><h3>Dati clinici</h3></header>
      <label class="item item-input item-stacked-label" ng-show="choice == 2">
        <span class="input-label">Patologia</span>
        <input type="text" name="patologia" ng-model="patologia" placeholder="Patologia">
      </label>
      <label class="item item-input item-stacked-label" ng-show="choice == 1">
        <span class="input-label">Specializzazione</span>
        <input type="text" name="specializzazione" ng-model="nome" placeholder="specializzazione">
      </label>
    </form>

    <div class="card" ng-show="myForm.$invalid">
      <div class="item item-text-wrap">
        <p ng-show="myForm.username.$error.required">* L'username non può essere vuoto.</p>
        <p ng-show="myForm.username.$invalid && !myForm.username.$pristine">* L'username deve essere una mail
          valida.</p>
        <p ng-show="myForm.username.$error.$invalid && !myForm.username.$pristine && myForm.username.$error.email">*
          L'username2 deve essere una mail valida.</p>
        <p ng-show="myForm.password.$error.required">* La password non può essere vuota.</p>
        <p ng-show="myForm.password.$error.minlength">* La password deve essere almeno di 6 caratteri</p>
      </div>
    </div>

    <div class="padding">
      <button type="button" class="button button-block button-positive" ng-disabled="myForm.$invalid"
              ng-click="submit(username,password,choice, nome, cognome, cfiscale, sesso, datadinascita, luogodinascita, provinciaNascita, patologia, specializzazione)">Registrati
      </button>
    </div>
  </ion-content>
</ion-view>
